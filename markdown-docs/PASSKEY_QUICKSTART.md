# Passkey 2FA å¿«é€Ÿå¼€å§‹æŒ‡å—

> 5 åˆ†é’Ÿå†…å¯ç”¨ Passkey åŒå› ç´ è®¤è¯

## ğŸš€ å¿«é€Ÿå®‰è£…

### 1. å®‰è£…ä¾èµ–

```bash
# æ ¹ç›®å½•
pnpm install

# å‰ç«¯
cd client && pnpm install && cd ..
```

### 2. æ•°æ®åº“è¿ç§»

```bash
pnpm migrate
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# å¼€å‘ç¯å¢ƒ
PASSKEY_RP_ID=localhost
PASSKEY_ORIGIN=http://localhost:3000

# ç”Ÿäº§ç¯å¢ƒï¼ˆå¿…é¡»ä½¿ç”¨ HTTPSï¼‰
# PASSKEY_RP_ID=yourdomain.com
# PASSKEY_ORIGIN=https://yourdomain.com
```

### 4. å¯åŠ¨åº”ç”¨

```bash
pnpm dev:all
```

## âœ… éªŒè¯å®‰è£…

1. è®¿é—® http://localhost:3000
2. ç™»å½•è´¦æˆ·
3. è¿›å…¥ Settings é¡µé¢
4. æ‰¾åˆ° **Passkeys** éƒ¨åˆ†
5. ç‚¹å‡» **Add Passkey** æŒ‰é’®

å¦‚æœæŒ‰é’®å¯ç‚¹å‡»ä¸”æµè§ˆå™¨æç¤ºè®¤è¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼

## ğŸ¯ ä½¿ç”¨æµç¨‹

### æ³¨å†Œ Passkey

1. **Settings** â†’ **Passkeys** â†’ **Add Passkey**
2. è¾“å…¥åç§°ï¼ˆå¦‚ "My Laptop"ï¼‰
3. ç‚¹å‡» **Create Passkey**
4. æŒ‰ç…§æµè§ˆå™¨æç¤ºå®Œæˆè®¤è¯
5. å®Œæˆï¼

### ä½¿ç”¨ Passkey ç™»å½•

1. ç™»å½•é¡µé¢è¾“å…¥é‚®ç®±
2. ç‚¹å‡» **Sign in with Passkey**
3. å®Œæˆè®¾å¤‡è®¤è¯
4. è‡ªåŠ¨ç™»å½•ï¼

## ğŸ› å¸¸è§é—®é¢˜

### "Passkeys are not supported"
â†’ æ›´æ–°æµè§ˆå™¨åˆ°æœ€æ–°ç‰ˆæœ¬

### "Origin not allowed"
â†’ æ£€æŸ¥ `PASSKEY_ORIGIN` æ˜¯å¦ä¸è®¿é—® URL ä¸€è‡´

### ç”Ÿäº§ç¯å¢ƒæ— æ³•ä½¿ç”¨
â†’ ç¡®ä¿ä½¿ç”¨ **HTTPS**ï¼ˆWebAuthn è¦æ±‚ï¼‰

## ğŸ“š å®Œæ•´æ–‡æ¡£

è¯¦ç»†é…ç½®å’Œæ•…éšœæ’é™¤è¯·æŸ¥çœ‹ï¼š[PASSKEY_2FA_GUIDE.md](./PASSKEY_2FA_GUIDE.md)

## ğŸ” å®‰å…¨æç¤º

- âœ… ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨ HTTPS
- âœ… å»ºè®®ä¸ºæ¯ä¸ªè®¾å¤‡æ³¨å†Œå•ç‹¬çš„ Passkey
- âœ… ä¿ç•™è‡³å°‘ä¸€ä¸ªå¤‡ç”¨è®¤è¯æ–¹å¼ï¼ˆå¯†ç /TOTPï¼‰
- âœ… å®šæœŸæ£€æŸ¥å’Œæ¸…ç†ä¸å†ä½¿ç”¨çš„ Passkeys

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´æ–‡æ¡£æˆ–æäº¤ Issue
